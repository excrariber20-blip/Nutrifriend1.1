<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NutriFriend - ‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ffffff 0%, #f1f8f4 50%, #e8f5e9 100%);
            min-height: 100vh;
        }

        nav {
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            cursor: pointer;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .nav-links button {
            background: none;
            border: none;
            color: #2e7d32;
            font-weight: 600;
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 10px;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .nav-links button:hover {
            background: rgba(76, 175, 80, 0.1);
        }

        .login-btn {
            background: linear-gradient(135deg, #4caf50, #66bb6a) !important;
            color: white !important;
            padding: 0.7rem 1.5rem !important;
            border-radius: 15px;
        }

        .logout-btn {
            background: linear-gradient(135deg, #f44336, #e57373) !important;
            color: white !important;
            padding: 0.7rem 1.5rem !important;
            border-radius: 15px;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        .hero {
            text-align: center;
            margin-bottom: 4rem;
        }

        .hero h1 {
            font-size: 3.5rem;
            background: linear-gradient(135deg, #2e7d32, #4caf50, #66bb6a);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: 1.2rem;
            color: #616161;
            max-width: 800px;
            margin: 0 auto 2rem;
            line-height: 1.8;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .feature-card {
            background: white;
            padding: 2rem;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            transition: all 0.3s;
            border: 2px solid rgba(76, 175, 80, 0.2);
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(76, 175, 80, 0.3);
        }

        .feature-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .cta-section {
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            padding: 3rem;
            border-radius: 25px;
            text-align: center;
            color: white;
        }

        .btn-primary {
            width: 100%;
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
            padding: 1rem;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(76, 175, 80, 0.4);
        }

        .btn-secondary {
            width: 100%;
            background: white;
            color: #4caf50;
            padding: 1rem;
            border: 2px solid #4caf50;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 1rem;
        }

        .btn-secondary:hover {
            background: rgba(76, 175, 80, 0.1);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            color: #2e7d32;
            margin-bottom: 0.5rem;
        }

        .form-group input {
            width: 100%;
            padding: 1rem;
            border: 2px solid #ddd;
            border-radius: 15px;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #4caf50;
        }

        .page-title {
            text-align: center;
            font-size: 3rem;
            background: linear-gradient(135deg, #2e7d32, #4caf50, #66bb6a);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 3rem;
        }

        .bmi-card, .profile-card, .login-card, .dashboard-card {
            background: white;
            padding: 2rem;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 2px solid rgba(76, 175, 80, 0.2);
        }

        .bmi-result {
            margin-top: 2rem;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), rgba(129, 199, 132, 0.1));
            border-radius: 20px;
            text-align: center;
            border: 2px solid rgba(76, 175, 80, 0.3);
        }

        .bmi-value {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .hidden {
            display: none;
        }

        .food-card {
            background: white;
            padding: 1.5rem;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 2px solid rgba(76, 175, 80, 0.2);
            cursor: pointer;
            transition: all 0.3s;
        }

        .food-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(76, 175, 80, 0.3);
        }

        .food-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .modal-content {
            background: white;
            border-radius: 25px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            padding: 2rem;
            position: relative;
        }

        .user-profile-header {
            text-align: center;
            padding: 2rem;
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            border-radius: 20px;
            color: white;
            margin-bottom: 2rem;
        }

        .user-avatar {
            width: 120px;
            height: 120px;
            background: white;
            border-radius: 50%;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }

        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .user-select-btn {
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .user-select-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 20px rgba(76, 175, 80, 0.4);
        }

        .user-list-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 3000;
        }

        .user-list-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .user-list-card {
            background: white;
            padding: 1.5rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid rgba(76, 175, 80, 0.2);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-list-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(76, 175, 80, 0.3);
            border-color: #4caf50;
        }

        .status-badge {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: bold;
            margin-top: 1rem;
        }

        .status-online {
            background: rgba(76, 175, 80, 0.2);
            color: #2e7d32;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            border: 2px solid rgba(76, 175, 80, 0.2);
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(76, 175, 80, 0.3);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #4caf50;
            margin: 1rem 0;
        }

        .stat-label {
            color: #757575;
            font-size: 1rem;
        }

        .error-message {
            color: #f44336;
            font-size: 0.9rem;
            margin-top: 0.5rem;
            display: none;
        }

        .success-message {
            color: #4caf50;
            font-size: 0.9rem;
            margin-top: 0.5rem;
            display: none;
        }

        .filter-btn {
            background: white;
            color: #4caf50;
            padding: 1rem 2rem;
            border: 2px solid #4caf50;
            border-radius: 15px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .filter-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.2);
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }
            .features-grid, .food-grid, .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <div class="logo" onclick="showPage('home')">ü•ó NutriFriend</div>
            <div class="nav-links">
                <button onclick="showPage('home')">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
                <button onclick="showPage('dashboard')">üìä Dashboard</button>
                <button onclick="showPage('bmi')">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì BMI</button>
                <button onclick="showPage('food')">‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£</button>
                <button onclick="showPage('exercise')">üí™ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢</button>
                <button onclick="showPage('profile')">‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</button>
                <button id="authBtn" class="login-btn" onclick="handleAuth()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
            </div>
        </div>
    </nav>

    <!-- Home Page -->
    <div id="homePage" class="page active">
        <div class="container">
            <div class="hero">
                <h1>‚ú® ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÉ‡∏´‡πâ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏î‡∏µ</h1>
                <p>‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£ ‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û ‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢‡∏î‡∏≤‡∏¢</p>
                <div class="status-badge status-online">üíæ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (localStorage)</div>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üìä</div>
                    <h3 style="color: #4caf50;">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì BMI</h3>
                    <p style="color: #757575;">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏î‡∏±‡∏ä‡∏ô‡∏µ‡∏°‡∏ß‡∏•‡∏Å‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">üçΩÔ∏è</div>
                    <h3 style="color: #ff9800;">‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h3>
                    <p style="color: #757575;">‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡πà‡∏≤‡∏á‡∏î‡∏≤‡∏ß‡∏ó‡∏µ‡πà‡∏à‡∏¥‡∏ô‡∏ï‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">üíæ</div>
                    <h3 style="color: #2196f3;">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</h3>
                    <p style="color: #757575;">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô localStorage ‡∏Ñ‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏°‡πâ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå</p>
                </div>
            </div>

            <div class="cta-section">
                <h2>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h2>
                <p style="font-size: 1.1rem; margin: 1rem 0 2rem 0;">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                <button class="btn-primary" onclick="showPage('login')" style="max-width: 300px; margin: 0 auto;">üîê ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
            </div>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboardPage" class="page">
        <div class="container">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem;">
                <h2 class="page-title" style="margin: 0;">üìä Dashboard</h2>
                <div style="display: flex; align-items: center; gap: 1rem; flex-wrap: wrap;">
                    <button id="myDashboardBtn" class="user-select-btn" onclick="returnToMyDashboard()" style="display: none; background: linear-gradient(135deg, #2196f3, #64b5f6);">
                        üè† Dashboard ‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô
                    </button>
                    <button class="user-select-btn" onclick="showUserList()">üë• ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏≠‡∏∑‡πà‡∏ô</button>
                    <div style="text-align: right;">
                        <div style="font-size: 0.9rem; color: #757575;">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
                        <div id="dashboardUserName" onclick="showCurrentUserProfile()" style="font-size: 1.5rem; font-weight: bold; color: #4caf50; cursor: pointer; text-decoration: underline; transition: all 0.3s;" onmouseover="this.style.color='#2e7d32'" onmouseout="this.style.color='#4caf50'">Guest</div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Daily -->
            <div class="dashboard-card" style="margin-bottom: 2rem;">
                <h3 style="color: #4caf50; margin-bottom: 1.5rem; font-size: 1.8rem;">üìÖ Dashboard Daily</h3>
                <div class="dashboard-grid">
                    <div class="stat-card">
                        <div class="stat-label">‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
                        <div class="stat-value" id="dailyCalories">0</div>
                        <div style="color: #757575; font-size: 0.9rem;">kcal</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
                        <div class="stat-value" id="dailyProtein">0</div>
                        <div style="color: #757575; font-size: 0.9rem;">‡∏Å‡∏£‡∏±‡∏°</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">‡∏Ñ‡∏≤‡∏£‡πå‡πÇ‡∏ö‡πÑ‡∏Æ‡πÄ‡∏î‡∏£‡∏ï‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
                        <div class="stat-value" id="dailyCarbs">0</div>
                        <div style="color: #757575; font-size: 0.9rem;">‡∏Å‡∏£‡∏±‡∏°</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
                        <div class="stat-value" id="dailyFat">0</div>
                        <div style="color: #757575; font-size: 0.9rem;">‡∏Å‡∏£‡∏±‡∏°</div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Weekly -->
            <div class="dashboard-card" style="margin-bottom: 2rem;">
                <h3 style="color: #ff9800; margin-bottom: 1.5rem; font-size: 1.8rem;">üìà Dashboard Weekly</h3>
                <div class="dashboard-grid">
                    <div class="stat-card">
                        <div class="stat-label">‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢/‡∏ß‡∏±‡∏ô</div>
                        <div class="stat-value" id="weeklyCalories">0</div>
                        <div style="color: #757575; font-size: 0.9rem;">kcal</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏∑‡πâ‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£</div>
                        <div class="stat-value" id="weeklyMeals">0</div>
                        <div style="color: #757575; font-size: 0.9rem;">‡∏°‡∏∑‡πâ‡∏≠</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">BMI ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</div>
                        <div class="stat-value" id="weeklyBMI">-</div>
                        <div style="color: #757575; font-size: 0.9rem;">‡∏î‡∏±‡∏ä‡∏ô‡∏µ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</div>
                        <div class="stat-value" id="weeklyWeight">-</div>
                        <div style="color: #757575; font-size: 0.9rem;">kg</div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Monthly -->
            <div class="dashboard-card">
                <h3 style="color: #9c27b0; margin-bottom: 1.5rem; font-size: 1.8rem;">üìä Dashboard Monthly</h3>
                <div class="dashboard-grid">
                    <div class="stat-card">
                        <div class="stat-label">‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</div>
                        <div class="stat-value" id="monthlyCalories">0</div>
                        <div style="color: #757575; font-size: 0.9rem;">kcal</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì BMI</div>
                        <div class="stat-value" id="monthlyBMICount">0</div>
                        <div style="color: #757575; font-size: 0.9rem;">‡∏Ñ‡∏£‡∏±‡πâ‡∏á</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î</div>
                        <div class="stat-value" id="monthlyFavorites">0</div>
                        <div style="color: #757575; font-size: 0.9rem;">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
                        <div class="stat-value" id="monthlyDays">0</div>
                        <div style="color: #757575; font-size: 0.9rem;">‡∏ß‡∏±‡∏ô</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- BMI Page -->
    <div id="bmiPage" class="page">
        <div class="container">
            <h2 class="page-title">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤ BMI</h2>
            <div style="max-width: 600px; margin: 0 auto;">
                <div class="bmi-card">
                    <div class="form-group">
                        <label>‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å (‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°)</label>
                        <input type="number" id="weight" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì">
                    </div>

                    <div class="form-group">
                        <label>‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á (‡πÄ‡∏ã‡∏ô‡∏ï‡∏¥‡πÄ‡∏°‡∏ï‡∏£)</label>
                        <input type="number" id="height" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì">
                    </div>

                    <button class="btn-primary" onclick="calculateBMI()">üßÆ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì BMI</button>

                    <div id="bmiResult" class="bmi-result hidden">
                        <div class="bmi-value" id="bmiValue"></div>
                        <div style="font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem;" id="bmiCategory"></div>
                        <p id="bmiAdvice" style="color: #616161; font-size: 1.1rem;"></p>
                    </div>
                </div>

                <div style="margin-top: 2rem;">
                    <h3 style="color: #4caf50; text-align: center; margin-bottom: 1rem;">üìà ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ BMI ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h3>
                    <div id="bmiHistory"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Food Page -->
    <div id="foodPage" class="page">
        <div class="container">
            <h2 class="page-title">üçΩÔ∏è ‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏î‡∏≤‡∏ß</h2>
            
            <!-- Calorie Category Filter -->
            <div style="margin-bottom: 2rem;">
                <div style="text-align: center; margin-bottom: 1.5rem;">
                    <h3 style="color: #4caf50; font-size: 1.5rem; margin-bottom: 0.5rem;">üî• ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà</h3>
                    <p style="color: #757575; font-size: 0.9rem;">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì</p>
                </div>
                <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <button onclick="filterFoodsByCalories('all')" id="filterAll" class="filter-btn active">
                        üåü ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                    </button>
                    <button onclick="filterFoodsByCalories('low')" id="filterLow" class="filter-btn">
                        üü¢ ‡∏ï‡πà‡∏≥ (0-100)
                    </button>
                    <button onclick="filterFoodsByCalories('medium')" id="filterMedium" class="filter-btn">
                        üü° ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á (101-200)
                    </button>
                    <button onclick="filterFoodsByCalories('high')" id="filterHigh" class="filter-btn">
                        üî¥ ‡∏™‡∏π‡∏á (201+)
                    </button>
                </div>
                <div style="text-align: center; margin-top: 1rem;">
                    <span id="foodCount" style="color: #757575; font-size: 0.9rem;">‡πÅ‡∏™‡∏î‡∏á 0 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>
                </div>
            </div>
            
            <div class="food-grid" id="foodGrid"></div>
        </div>
    </div>

    <!-- Exercise Page -->
    <div id="exercisePage" class="page">
        <div class="container">
            <h2 class="page-title">üí™ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢</h2>
            
            <!-- BMI Based Recommendations -->
            <div class="dashboard-card" style="margin-bottom: 2rem;">
                <h3 style="color: #4caf50; margin-bottom: 1rem; font-size: 1.8rem;">üéØ ‡πÅ‡∏ú‡∏ô‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏ï‡∏≤‡∏° BMI ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h3>
                <div id="exerciseBMIInfo" style="text-align: center; padding: 2rem; background: rgba(76, 175, 80, 0.1); border-radius: 15px; margin-bottom: 2rem;">
                    <p style="color: #757575; font-size: 1.1rem;">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì BMI ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</p>
                    <button class="btn-primary" onclick="showPage('bmi')" style="max-width: 300px; margin: 1rem auto 0;">‡πÑ‡∏õ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì BMI</button>
                </div>
            </div>

            <!-- Exercise Categories -->
            <div class="dashboard-card" style="margin-bottom: 2rem;">
                <h3 style="color: #ff9800; margin-bottom: 1.5rem; font-size: 1.8rem;">üèÉ ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                    <button onclick="showExerciseCategory('cardio')" style="background: linear-gradient(135deg, #e91e63, #f06292); color: white; padding: 1.5rem; border: none; border-radius: 20px; font-size: 1.2rem; font-weight: bold; cursor: pointer; transition: all 0.3s; box-shadow: 0 5px 15px rgba(233, 30, 99, 0.3);">
                        üèÉ ‡∏Ñ‡∏≤‡∏£‡πå‡∏î‡∏¥‡πÇ‡∏≠
                    </button>
                    <button onclick="showExerciseCategory('strength')" style="background: linear-gradient(135deg, #3f51b5, #5c6bc0); color: white; padding: 1.5rem; border: none; border-radius: 20px; font-size: 1.2rem; font-weight: bold; cursor: pointer; transition: all 0.3s; box-shadow: 0 5px 15px rgba(63, 81, 181, 0.3);">
                        üí™ ‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠
                    </button>
                    <button onclick="showExerciseCategory('flexibility')" style="background: linear-gradient(135deg, #00bcd4, #4dd0e1); color: white; padding: 1.5rem; border: none; border-radius: 20px; font-size: 1.2rem; font-weight: bold; cursor: pointer; transition: all 0.3s; box-shadow: 0 5px 15px rgba(0, 188, 212, 0.3);">
                        üßò ‡∏¢‡∏∑‡∏î‡πÄ‡∏´‡∏¢‡∏µ‡∏¢‡∏î
                    </button>
                    <button onclick="showExerciseCategory('balance')" style="background: linear-gradient(135deg, #9c27b0, #ba68c8); color: white; padding: 1.5rem; border: none; border-radius: 20px; font-size: 1.2rem; font-weight: bold; cursor: pointer; transition: all 0.3s; box-shadow: 0 5px 15px rgba(156, 39, 176, 0.3);">
                        ‚öñÔ∏è ‡∏ó‡∏£‡∏á‡∏ï‡∏±‡∏ß
                    </button>
                </div>
            </div>

            <!-- Exercise Grid -->
            <div id="exerciseGrid" class="food-grid"></div>
        </div>
    </div>

    <!-- Exercise Detail Modal -->
    <div id="exerciseModal" class="modal" onclick="if(event.target === this) closeExerciseModal()">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h2 style="color: #4caf50;">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢</h2>
                <button onclick="closeExerciseModal()" style="background: none; border: none; font-size: 2rem; cursor: pointer; color: #757575;">&times;</button>
            </div>
            <div id="exerciseModalBody"></div>
        </div>
    </div>

    <!-- Food Modal -->
    <div id="foodModal" class="modal" onclick="if(event.target === this) closeModal()">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h2 style="color: #4caf50;">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h2>
                <button onclick="closeModal()" style="background: none; border: none; font-size: 2rem; cursor: pointer; color: #757575;">&times;</button>
            </div>
            <div id="modalBody"></div>
        </div>
    </div>

    <!-- User Profile Modal -->
    <div id="userProfileModal" class="modal" onclick="if(event.target === this) closeUserProfileModal()">
        <div class="modal-content">
            <button onclick="closeUserProfileModal()" style="position: absolute; top: 1rem; right: 1rem; background: none; border: none; font-size: 2rem; cursor: pointer; color: #757575; z-index: 10;">&times;</button>
            <div id="userProfileBody"></div>
        </div>
    </div>

    <!-- User List Modal -->
    <div id="userListModal" class="user-list-modal" onclick="if(event.target === this) closeUserList()">
        <div class="modal-content" style="max-width: 600px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h2 style="color: #4caf50;">üë• ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h2>
                <button onclick="closeUserList()" style="background: none; border: none; font-size: 2rem; cursor: pointer; color: #757575;">&times;</button>
            </div>
            <div id="userListBody" style="display: grid; gap: 1rem;"></div>
        </div>
    </div>

    <!-- Profile Page -->
    <div id="profilePage" class="page">
        <div class="container">
            <h2 class="page-title">üë§ ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h2>
            <div style="max-width: 700px; margin: 0 auto;">
                <div class="profile-card">
                    <div style="text-align: center; margin-bottom: 2rem;">
                        <div style="width: 100px; height: 100px; background: linear-gradient(135deg, #4caf50, #66bb6a); border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center; font-size: 3rem; color: white;">üë§</div>
                        <h3 id="profileName" style="font-size: 1.8rem; margin-bottom: 0.5rem;">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h3>
                        <p id="profileEmail" style="color: #757575;">user@email.com</p>
                    </div>

                    <div class="form-group">
                        <label>‡∏ä‡∏∑‡πà‡∏≠</label>
                        <input type="text" id="profileNameInput" value="‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô">
                    </div>

                    <div class="form-group">
                        <label>‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                        <input type="email" id="profileEmailInput" value="user@email.com">
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div class="form-group">
                            <label>‡∏≠‡∏≤‡∏¢‡∏∏</label>
                            <input type="number" id="profileAge" value="30">
                        </div>
                        <div class="form-group">
                            <label>‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å (kg)</label>
                            <input type="number" id="profileWeight" value="70">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á (cm)</label>
                        <input type="number" id="profileHeight" value="170">
                    </div>

                    <button class="btn-primary" onclick="saveProfile()">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>

                    <button onclick="clearAllData()" style="width: 100%; background: linear-gradient(135deg, #f44336, #e57373); color: white; padding: 1rem; border: none; border-radius: 15px; font-size: 1rem; font-weight: bold; cursor: pointer; margin-top: 1rem;">
                        üóëÔ∏è ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                    </button>

                    <div style="margin-top: 2rem; padding: 1rem; background: rgba(76, 175, 80, 0.1); border-radius: 15px; text-align: center;">
                        <p style="color: #2e7d32; font-size: 0.9rem;">üíæ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô localStorage</p>
                        <p style="color: #757575; font-size: 0.85rem; margin-top: 0.5rem;">‡∏Ñ‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡πÅ‡∏°‡πâ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå</p>
                    </div>

                    <!-- Favorite Foods Section -->
                    <div style="margin-top: 2rem;">
                        <div style="text-align: center; margin-bottom: 1.5rem;">
                            <h4 style="color: #4caf50; font-size: 1.5rem; margin-bottom: 0.5rem;">üçΩÔ∏è ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h4>
                            <p style="color: #757575; font-size: 0.9rem;">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏∑‡πà‡∏ô‡∏ä‡∏≠‡∏ö</p>
                        </div>
                        <div id="profileFavoriteFoods" style="display: grid; gap: 1rem;">
                            <p style="text-align: center; color: #757575; padding: 1rem;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î</p>
                        </div>
                        <div style="text-align: center; margin-top: 1rem;">
                            <button onclick="showPage('food')" style="background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; padding: 0.8rem 2rem; border: none; border-radius: 15px; font-size: 1rem; font-weight: bold; cursor: pointer; transition: all 0.3s; box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);">
                                ‚ûï ‡πÑ‡∏õ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Page -->
    <div id="loginPage" class="page">
        <div style="max-width: 500px; margin: 5rem auto; padding: 0 2rem;">
            <div class="login-card">
                <div style="text-align: center; margin-bottom: 2rem;">
                    <h2 style="font-size: 2.5rem; background: linear-gradient(135deg, #2e7d32, #4caf50); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 0.5rem;">ü•ó NutriFriend</h2>
                    <p style="color: #757575;">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</p>
                </div>

                <div class="form-group">
                    <label>‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                    <input type="email" id="loginEmail" placeholder="your@email.com">
                    <div id="loginEmailError" class="error-message">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</div>
                </div>

                <div class="form-group">
                    <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                    <input type="password" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    <div id="loginPasswordError" class="error-message">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</div>
                </div>

                <div id="loginError" class="error-message" style="margin-bottom: 1rem; text-align: center;">‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</div>

                <button class="btn-primary" onclick="login()">üîê ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
                <button class="btn-secondary" onclick="showPage('register')">‚ú® ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</button>
            </div>
        </div>
    </div>

    <!-- Register Page -->
    <div id="registerPage" class="page">
        <div style="max-width: 500px; margin: 5rem auto; padding: 0 2rem;">
            <div class="login-card">
                <div style="text-align: center; margin-bottom: 2rem;">
                    <h2 style="font-size: 2.5rem; background: linear-gradient(135deg, #2e7d32, #4caf50); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 0.5rem;">‚ú® ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h2>
                    <p style="color: #757575;">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏Å‡∏±‡∏ö NutriFriend</p>
                </div>

                <div class="form-group">
                    <label>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                    <input type="text" id="registerName" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì">
                    <div id="registerNameError" class="error-message">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠</div>
                </div>

                <div class="form-group">
                    <label>‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                    <input type="email" id="registerEmail" placeholder="your@email.com">
                    <div id="registerEmailError" class="error-message">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</div>
                </div>

                <div class="form-group">
                    <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                    <input type="password" id="registerPassword" placeholder="‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 6 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£">
                    <div id="registerPasswordError" class="error-message">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 6 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£</div>
                </div>

                <div class="form-group">
                    <label>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                    <input type="password" id="registerConfirmPassword" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á">
                    <div id="registerConfirmPasswordError" class="error-message">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô</div>
                </div>

                <div id="registerSuccess" class="success-message" style="margin-bottom: 1rem; text-align: center;">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö...</div>

                <button class="btn-primary" onclick="register()">‚ú® ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</button>
                <button class="btn-secondary" onclick="showPage('login')">üîê ‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß? ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
            </div>
        </div>
    </div>

    <script>
        // ===============================
        // DATABASE SYSTEM (localStorage)
        // ===============================
        const DB = {
            saveProfile(profileData) {
                try {
                    localStorage.setItem('nutrifriend_profile', JSON.stringify(profileData));
                    return true;
                } catch (error) {
                    console.error('Error saving profile:', error);
                    return false;
                }
            },

            getProfile() {
                try {
                    const data = localStorage.getItem('nutrifriend_profile');
                    return data ? JSON.parse(data) : null;
                } catch (error) {
                    return null;
                }
            },

            saveUser(email, userData) {
                try {
                    const users = this.getAllUsers();
                    users[email] = userData;
                    localStorage.setItem('nutrifriend_users', JSON.stringify(users));
                    return true;
                } catch (error) {
                    console.error('Error saving user:', error);
                    return false;
                }
            },

            getUser(email) {
                try {
                    const users = this.getAllUsers();
                    return users[email] || null;
                } catch (error) {
                    return null;
                }
            },

            getAllUsers() {
                try {
                    const data = localStorage.getItem('nutrifriend_users');
                    return data ? JSON.parse(data) : {};
                } catch (error) {
                    return {};
                }
            },

            saveBMIRecord(bmiData) {
                try {
                    const history = this.getBMIHistory();
                    history.push(bmiData);
                    localStorage.setItem('nutrifriend_bmi', JSON.stringify(history));
                    return true;
                } catch (error) {
                    console.error('Error saving BMI:', error);
                    return false;
                }
            },

            getBMIHistory() {
                try {
                    const data = localStorage.getItem('nutrifriend_bmi');
                    return data ? JSON.parse(data) : [];
                } catch (error) {
                    return [];
                }
            },

            saveFavoriteFood(foodName) {
                try {
                    const favorites = this.getFavoriteFoods();
                    if (!favorites.includes(foodName)) {
                        favorites.push(foodName);
                        localStorage.setItem('nutrifriend_favorites', JSON.stringify(favorites));
                    }
                    return true;
                } catch (error) {
                    return false;
                }
            },

            removeFavoriteFood(foodName) {
                try {
                    const favorites = this.getFavoriteFoods();
                    const filtered = favorites.filter(f => f !== foodName);
                    localStorage.setItem('nutrifriend_favorites', JSON.stringify(filtered));
                    return true;
                } catch (error) {
                    return false;
                }
            },

            getFavoriteFoods() {
                try {
                    const data = localStorage.getItem('nutrifriend_favorites');
                    return data ? JSON.parse(data) : [];
                } catch (error) {
                    return [];
                }
            },

            saveDailyConsumption(consumptionData) {
                try {
                    const today = new Date().toDateString();
                    const data = this.getDailyConsumption();
                    data[today] = consumptionData;
                    localStorage.setItem('nutrifriend_daily', JSON.stringify(data));
                    return true;
                } catch (error) {
                    return false;
                }
            },

            getDailyConsumption() {
                try {
                    const data = localStorage.getItem('nutrifriend_daily');
                    return data ? JSON.parse(data) : {};
                } catch (error) {
                    return {};
                }
            },

            clearAllData() {
                try {
                    localStorage.removeItem('nutrifriend_profile');
                    localStorage.removeItem('nutrifriend_bmi');
                    localStorage.removeItem('nutrifriend_favorites');
                    localStorage.removeItem('nutrifriend_daily');
                    return true;
                } catch (error) {
                    return false;
                }
            }
        };

        // Data - Foods with more items
        const foods = [
            // Low Calorie (‡∏ï‡πà‡∏≥: 0-100 kcal)
            {name: "‡πÄ‡∏à‡∏•‡∏•‡∏µ‡πà‡πÄ‡∏£‡∏∑‡∏≠‡∏á‡πÅ‡∏™‡∏á‡∏ã‡∏µ‡∏ï‡∏≤", icon: "‚ú®", origin: "‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Luminara", calories: 85, protein: 5, carbs: 18, fat: 0.5},
            {name: "‡∏™‡∏≤‡∏´‡∏£‡πà‡∏≤‡∏¢‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡∏±‡∏•‡πÑ‡∏ó‡πÄ‡∏ó‡πÄ‡∏ô‡∏µ‡∏¢", icon: "üíé", origin: "‡∏î‡∏≤‡∏ß‡πÄ‡∏™‡∏≤‡∏£‡πå Moon Titan", calories: 45, protein: 12, carbs: 5, fat: 0.8},
            {name: "‡∏ô‡πâ‡∏≥‡∏´‡∏°‡∏±‡∏Å‡πÑ‡∏Æ‡πÇ‡∏î‡∏£‡πÄ‡∏à‡∏ô‡∏ã‡∏≠‡∏£‡πå‡∏ö", icon: "üíß", origin: "‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Aquaria Prime", calories: 15, protein: 0, carbs: 4, fat: 0},
            {name: "‡πÄ‡∏´‡πá‡∏î‡πÄ‡∏£‡∏∑‡∏≠‡∏á‡∏£‡∏±‡∏á‡∏™‡∏µ‡πÄ‡∏ã‡πÄ‡∏£‡πÄ‡∏ô‡∏µ‡∏¢", icon: "üçÑ", origin: "‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Mycelia", calories: 95, protein: 18, carbs: 12, fat: 2},
            {name: "‡∏™‡∏•‡∏±‡∏î‡∏Ñ‡∏≠‡∏™‡∏°‡∏¥‡∏Å", icon: "ü•ó", origin: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏≠‡∏ß‡∏Å‡∏≤‡∏® Verdant", calories: 65, protein: 4, carbs: 12, fat: 1.5},
            {name: "‡∏ô‡πâ‡∏≥‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏™‡∏á", icon: "üßÉ", origin: "‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Solara", calories: 55, protein: 1, carbs: 14, fat: 0.2},
            {name: "‡πÄ‡∏ï‡πâ‡∏≤‡∏´‡∏π‡πâ‡∏Ñ‡∏ß‡∏≠‡∏ô‡∏ï‡∏±‡∏°", icon: "üßä", origin: "‡∏°‡∏¥‡∏ï‡∏¥‡∏ó‡∏µ‡πà 5", calories: 78, protein: 9, carbs: 6, fat: 3},
            {name: "‡∏ú‡∏±‡∏Å‡∏Å‡∏≤‡∏î‡∏î‡∏≤‡∏ß‡∏ô‡∏µ‡∏≠‡∏≠‡∏ô", icon: "ü•¨", origin: "‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Chloros", calories: 32, protein: 3, carbs: 6, fat: 0.3},
            {name: "‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•‡πÇ‡∏Æ‡πÇ‡∏•‡πÅ‡∏Å‡∏£‡∏°", icon: "üçé", origin: "‡∏ü‡∏≤‡∏£‡πå‡∏°‡∏≠‡∏ß‡∏Å‡∏≤‡∏® Beta-7", calories: 72, protein: 0.5, carbs: 19, fat: 0.3},
            {name: "‡∏ô‡πâ‡∏≥‡∏ã‡∏∏‡∏õ‡∏î‡∏≤‡∏ß‡∏ï‡∏Å", icon: "‚òÑÔ∏è", origin: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ß‡∏¥‡∏à‡∏±‡∏¢ Meteor", calories: 48, protein: 4, carbs: 8, fat: 0.8},
            
            // Medium Calorie (‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á: 101-200 kcal)
            {name: "‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏•‡∏≠‡∏¢‡∏ô‡πâ‡∏≥‡πÅ‡∏≠‡∏™‡∏ó‡∏£‡∏≤", icon: "üçá", origin: "‡∏î‡∏≤‡∏ß‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ Moon Io", calories: 120, protein: 3, carbs: 28, fat: 1},
            {name: "‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î‡∏û‡∏•‡∏≤‡∏™‡∏°‡πà‡∏≤", icon: "üåΩ", origin: "‡∏î‡∏≤‡∏ß‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£ ‡∏ü‡∏≤‡∏£‡πå‡∏°‡πÇ‡∏î‡∏° 3", calories: 150, protein: 8, carbs: 32, fat: 2},
            {name: "‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ß‡∏∏‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≠‡∏ô‡∏ï‡∏±‡∏°", icon: "üåÄ", origin: "‡∏°‡∏¥‡∏ï‡∏¥‡∏ó‡∏µ‡πà 7", calories: 200, protein: 25, carbs: 8, fat: 10},
            {name: "‡∏Ç‡πâ‡∏≤‡∏ß‡∏≠‡∏ß‡∏Å‡∏≤‡∏®‡πÑ‡∏Æ‡πÄ‡∏õ‡∏≠‡∏£‡πå", icon: "üçö", origin: "‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Granos", calories: 165, protein: 5, carbs: 36, fat: 1.5},
            {name: "‡∏û‡∏≤‡∏™‡∏ï‡πâ‡∏≤‡∏î‡∏≤‡∏ß‡πÄ‡∏ó‡∏µ‡∏¢‡∏°", icon: "üçù", origin: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏≠‡∏ß‡∏Å‡∏≤‡∏® Italia-9", calories: 185, protein: 7, carbs: 38, fat: 2},
            {name: "‡πÅ‡∏ã‡∏ô‡∏î‡πå‡∏ß‡∏¥‡∏ä‡πÑ‡∏≠‡∏≠‡∏≠‡∏ô‡∏¥‡∏Å", icon: "ü•™", origin: "‡∏ü‡∏≤‡∏£‡πå‡∏°‡πÇ‡∏î‡∏° Terra-12", calories: 178, protein: 12, carbs: 24, fat: 5},
            {name: "‡∏ã‡∏π‡∏ä‡∏¥‡πÄ‡∏ô‡∏ö‡∏¥‡∏ß‡∏•‡∏≤", icon: "üç£", origin: "‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Oceanus", calories: 142, protein: 10, carbs: 20, fat: 3},
            {name: "‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï‡∏™‡πÄ‡∏õ‡∏Å‡∏ï‡∏£‡∏±‡∏°", icon: "ü•õ", origin: "‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Lactos", calories: 135, protein: 8, carbs: 18, fat: 4},
            {name: "‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≠‡∏ã‡∏≤‡∏£‡πå", icon: "üçå", origin: "‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Tropicos", calories: 105, protein: 1.5, carbs: 27, fat: 0.4},
            {name: "‡∏ã‡∏∏‡∏õ‡πÄ‡∏´‡πá‡∏î‡πÄ‡∏á‡∏≤‡∏î‡∏≤‡∏ß", icon: "üç≤", origin: "‡∏°‡∏¥‡∏ï‡∏¥‡∏ó‡∏µ‡πà 4", calories: 118, protein: 6, carbs: 15, fat: 4.5},
            {name: "‡∏õ‡∏•‡∏≤‡∏≠‡∏ß‡∏Å‡∏≤‡∏®‡∏¢‡πà‡∏≤‡∏á", icon: "üêü", origin: "‡∏ó‡∏∞‡πÄ‡∏•‡∏î‡∏≤‡∏ß Aquatica", calories: 156, protein: 22, carbs: 3, fat: 6},
            {name: "‡∏ö‡∏≤‡∏£‡πå‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÇ‡∏ü‡∏ï‡∏≠‡∏ô", icon: "‚ö°", origin: "‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô Energy-X", calories: 192, protein: 9, carbs: 28, fat: 6},
            
            // High Calorie (‡∏™‡∏π‡∏á: 201+ kcal)
            {name: "‡πÑ‡∏Ç‡πà‡∏î‡∏≤‡∏ß‡∏ü‡∏¥‡∏ô‡∏¥‡∏Å‡∏ã‡πå", icon: "ü•ö", origin: "‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Phoenix Prime", calories: 220, protein: 20, carbs: 6, fat: 15},
            {name: "‡∏™‡πÄ‡∏ï‡πá‡∏Å‡∏î‡∏≤‡∏ß‡∏ô‡∏¥‡∏ß‡∏ï‡∏£‡∏≠‡∏ô", icon: "ü•©", origin: "‡∏ü‡∏≤‡∏£‡πå‡∏°‡∏õ‡∏®‡∏∏‡∏™‡∏±‡∏ï‡∏ß‡πå Stellar", calories: 285, protein: 28, carbs: 5, fat: 18},
            {name: "‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡πÅ‡∏Å‡πÅ‡∏•‡πá‡∏Å‡∏ã‡∏µ‡πà", icon: "üçï", origin: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏≠‡∏ß‡∏Å‡∏≤‡∏® Italiano-5", calories: 312, protein: 14, carbs: 38, fat: 12},
            {name: "‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÄ‡∏Å‡∏≠‡∏£‡πå‡πÇ‡∏ô‡∏ß‡∏≤", icon: "üçî", origin: "‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£ Cosmic Bite", calories: 425, protein: 25, carbs: 42, fat: 18},
            {name: "‡πÄ‡∏Ñ‡πâ‡∏Å‡∏ö‡∏•‡πá‡∏≠‡∏Å‡πÇ‡∏Æ‡∏•", icon: "üç∞", origin: "‡∏£‡πâ‡∏≤‡∏ô‡πÄ‡∏ö‡πÄ‡∏Å‡∏≠‡∏£‡∏µ‡πà Dark Matter", calories: 380, protein: 6, carbs: 58, fat: 15},
            {name: "‡∏Å‡∏∞‡∏´‡∏£‡∏µ‡πà‡πÇ‡∏û‡∏•‡∏≤‡∏£‡∏¥‡∏™", icon: "üçõ", origin: "‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Spiceon", calories: 265, protein: 12, carbs: 35, fat: 10},
            {name: "‡∏£‡∏≤‡πÄ‡∏°‡∏ô‡∏ã‡∏π‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÇ‡∏ô‡∏ß‡∏≤", icon: "üçú", origin: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏≠‡∏ß‡∏Å‡∏≤‡∏® Ramen-X", calories: 348, protein: 16, carbs: 45, fat: 12},
            {name: "‡πÑ‡∏≠‡∏®‡∏Å‡∏£‡∏µ‡∏°‡∏Ñ‡∏≠‡∏™‡∏°‡∏¥‡∏Å", icon: "üç¶", origin: "‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô Frozen Galaxy", calories: 235, protein: 5, carbs: 32, fat: 11},
            {name: "‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡πá‡∏ï‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå", icon: "üçó", origin: "‡∏ü‡∏≤‡∏£‡πå‡∏°‡πÑ‡∏Å‡πà Orbit-7", calories: 298, protein: 18, carbs: 22, fat: 16},
            {name: "‡∏ó‡∏≤‡πÇ‡∏Å‡πâ‡∏û‡∏±‡∏•‡∏ã‡∏≤‡∏£‡πå", icon: "üåÆ", origin: "‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£ Taco Nebula", calories: 256, protein: 14, carbs: 28, fat: 11}
        ];

        const exercises = [
            // Cardio
            {name: "‡∏ß‡∏¥‡πà‡∏á‡∏à‡πä‡∏≠‡∏Å‡∏Å‡∏¥‡πâ‡∏á", icon: "üèÉ", category: "cardio", difficulty: "‡∏á‡πà‡∏≤‡∏¢", duration: "30 ‡∏ô‡∏≤‡∏ó‡∏µ", calories: 300, description: "‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏´‡∏¢‡∏≤‡∏∞‡πÜ ‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô", steps: ["‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢ 5 ‡∏ô‡∏≤‡∏ó‡∏µ", "‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏´‡∏¢‡∏≤‡∏∞‡πÉ‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠ 20 ‡∏ô‡∏≤‡∏ó‡∏µ", "‡∏Ñ‡∏•‡∏≤‡∏¢‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠ 5 ‡∏ô‡∏≤‡∏ó‡∏µ"], bmiRecommend: ["‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô", "‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô"]},
            {name: "‡∏õ‡∏±‡πà‡∏ô‡∏à‡∏±‡∏Å‡∏£‡∏¢‡∏≤‡∏ô", icon: "üö¥", category: "cardio", difficulty: "‡∏á‡πà‡∏≤‡∏¢", duration: "45 ‡∏ô‡∏≤‡∏ó‡∏µ", calories: 400, description: "‡∏õ‡∏±‡πà‡∏ô‡∏à‡∏±‡∏Å‡∏£‡∏¢‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏à‡∏±‡∏Å‡∏£‡∏¢‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢", steps: ["‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°", "‡∏õ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ä‡πà‡∏ß‡∏á‡∏™‡∏±‡πâ‡∏ô‡πÜ ‡∏™‡∏•‡∏±‡∏ö‡∏Å‡∏±‡∏ô"], bmiRecommend: ["‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô", "‡∏≠‡πâ‡∏ß‡∏ô", "‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô"]},
            {name: "‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡πÄ‡∏ä‡∏∑‡∏≠‡∏Å", icon: "ü™¢", category: "cardio", difficulty: "‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", duration: "20 ‡∏ô‡∏≤‡∏ó‡∏µ", calories: 250, description: "‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡πÄ‡∏ä‡∏∑‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞ ‡πÄ‡∏ú‡∏≤‡∏ú‡∏•‡∏≤‡∏ç‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà‡∏™‡∏π‡∏á", steps: ["‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î 1 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏û‡∏±‡∏Å 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ", "‡∏ó‡∏≥‡∏ã‡πâ‡∏≥ 10 ‡∏£‡∏≠‡∏ö", "‡∏Ñ‡∏•‡∏≤‡∏¢‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏Ç‡∏≤"], bmiRecommend: ["‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô", "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ô‡πâ‡∏≠‡∏¢"]},
            {name: "‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥", icon: "üèä", category: "cardio", difficulty: "‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", duration: "40 ‡∏ô‡∏≤‡∏ó‡∏µ", calories: 350, description: "‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏ó‡πà‡∏≤‡∏≠‡∏¥‡∏™‡∏£‡∏∞‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡πà‡∏≤‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÄ‡∏ö‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≠", steps: ["‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢ 5 ‡∏ô‡∏≤‡∏ó‡∏µ", "‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á 30 ‡∏ô‡∏≤‡∏ó‡∏µ", "‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏¢‡∏∑‡∏î‡πÄ‡∏´‡∏¢‡∏µ‡∏¢‡∏î"], bmiRecommend: ["‡∏≠‡πâ‡∏ß‡∏ô", "‡∏≠‡πâ‡∏ß‡∏ô‡∏°‡∏≤‡∏Å", "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô"]},
            
            // Strength
            {name: "‡∏ß‡∏¥‡∏î‡∏û‡∏∑‡πâ‡∏ô (Push-up)", icon: "üí™", category: "strength", difficulty: "‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", duration: "15 ‡∏ô‡∏≤‡∏ó‡∏µ", calories: 100, description: "‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏Å ‡πÅ‡∏Ç‡∏ô ‡πÅ‡∏•‡∏∞‡πÑ‡∏´‡∏•‡πà", steps: ["‡∏ß‡∏≤‡∏á‡∏°‡∏∑‡∏≠‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏•‡πà", "‡∏•‡∏≥‡∏ï‡∏±‡∏ß‡∏ï‡∏£‡∏á ‡πÑ‡∏°‡πà‡πÇ‡∏Å‡πà‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏∏‡∏ö", "‡∏ó‡∏≥ 3 ‡πÄ‡∏ã‡πá‡∏ï ‡πÄ‡∏ã‡πá‡∏ï‡∏•‡∏∞ 10-15 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á"], bmiRecommend: ["‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô", "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ô‡πâ‡∏≠‡∏¢"]},
            {name: "‡∏™‡∏Ñ‡∏ß‡∏≠‡∏ó (Squat)", icon: "ü¶µ", category: "strength", difficulty: "‡∏á‡πà‡∏≤‡∏¢", duration: "15 ‡∏ô‡∏≤‡∏ó‡∏µ", calories: 120, description: "‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏Ç‡∏≤‡πÅ‡∏•‡∏∞‡∏™‡∏∞‡πÇ‡∏û‡∏Å", steps: ["‡∏¢‡∏∑‡∏ô‡πÄ‡∏ó‡πâ‡∏≤‡∏´‡πà‡∏≤‡∏á‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏•‡πà", "‡∏ô‡∏±‡πà‡∏á‡∏•‡∏á‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ", "‡∏ó‡∏≥ 3 ‡πÄ‡∏ã‡πá‡∏ï ‡πÄ‡∏ã‡πá‡∏ï‡∏•‡∏∞ 15 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á"], bmiRecommend: ["‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô", "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô", "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ô‡πâ‡∏≠‡∏¢"]},
            {name: "‡∏¢‡∏Å‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å", icon: "üèãÔ∏è", category: "strength", difficulty: "‡∏¢‡∏≤‡∏Å", duration: "45 ‡∏ô‡∏≤‡∏ó‡∏µ", calories: 200, description: "‡∏¢‡∏Å‡∏î‡∏±‡∏°‡πÄ‡∏ö‡∏•‡∏•‡πå‡∏´‡∏£‡∏∑‡∏≠‡∏ö‡∏≤‡∏£‡πå‡πÄ‡∏ö‡∏•‡∏•‡πå ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏°‡∏ß‡∏•‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠", steps: ["‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏ö‡∏≤", "‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏ó‡∏µ‡πà‡∏ó‡πà‡∏≤‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á", "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≠‡∏¢‡πÑ‡∏õ"], bmiRecommend: ["‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ô‡πâ‡∏≠‡∏¢", "‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô"]},
            {name: "‡πÅ‡∏û‡∏•‡∏á‡∏Ñ‡πå (Plank)", icon: "üß±", category: "strength", difficulty: "‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", duration: "10 ‡∏ô‡∏≤‡∏ó‡∏µ", calories: 80, description: "‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÅ‡∏Å‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢", steps: ["‡∏ó‡πà‡∏≤‡∏Ñ‡∏ß‡∏≥ ‡∏Ñ‡πâ‡∏≥‡∏î‡πâ‡∏ß‡∏¢‡∏Ç‡πâ‡∏≠‡∏®‡∏≠‡∏Å", "‡∏•‡∏≥‡∏ï‡∏±‡∏ß‡∏ï‡∏£‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏™‡πâ‡∏ô‡∏ï‡∏£‡∏á", "‡∏Å‡∏•‡∏±‡πâ‡∏ô 30-60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡∏ó‡∏≥ 3 ‡πÄ‡∏ã‡πá‡∏ï"], bmiRecommend: ["‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô", "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô"]},
            
            // Flexibility
            {name: "‡πÇ‡∏¢‡∏Ñ‡∏∞", icon: "üßò", category: "flexibility", difficulty: "‡∏á‡πà‡∏≤‡∏¢", duration: "60 ‡∏ô‡∏≤‡∏ó‡∏µ", calories: 180, description: "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡πÅ‡∏•‡∏∞‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢‡∏à‡∏¥‡∏ï‡πÉ‡∏à", steps: ["‡∏ó‡πà‡∏≤ Sun Salutation 5-10 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", "‡∏ó‡πà‡∏≤‡∏¢‡∏∑‡∏î‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ï‡πà‡∏≤‡∏á‡πÜ", "‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πà‡∏á‡∏™‡∏°‡∏≤‡∏ò‡∏¥ 5 ‡∏ô‡∏≤‡∏ó‡∏µ"], bmiRecommend: ["‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô", "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô", "‡∏≠‡πâ‡∏ß‡∏ô"]},
            {name: "‡∏¢‡∏∑‡∏î‡πÄ‡∏´‡∏¢‡∏µ‡∏¢‡∏î‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠", icon: "ü§∏", category: "flexibility", difficulty: "‡∏á‡πà‡∏≤‡∏¢", duration: "20 ‡∏ô‡∏≤‡∏ó‡∏µ", calories: 60, description: "‡∏¢‡∏∑‡∏î‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ó‡∏±‡πà‡∏ß‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢ ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏ö‡∏≤‡∏î‡πÄ‡∏à‡πá‡∏ö", steps: ["‡∏¢‡∏∑‡∏î‡πÅ‡∏Ç‡∏ô‡πÅ‡∏•‡∏∞‡πÑ‡∏´‡∏•‡πà 5 ‡∏ô‡∏≤‡∏ó‡∏µ", "‡∏¢‡∏∑‡∏î‡∏Ç‡∏≤‡πÅ‡∏•‡∏∞‡∏™‡∏∞‡πÇ‡∏û‡∏Å 5 ‡∏ô‡∏≤‡∏ó‡∏µ", "‡∏¢‡∏∑‡∏î‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏•‡∏≥‡∏ï‡∏±‡∏ß 5 ‡∏ô‡∏≤‡∏ó‡∏µ"], bmiRecommend: ["‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô", "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô", "‡∏≠‡πâ‡∏ß‡∏ô", "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ô‡πâ‡∏≠‡∏¢"]},
            {name: "‡∏û‡∏¥‡∏•‡∏≤‡∏ó‡∏¥‡∏™", icon: "ü§∏‚Äç‚ôÄÔ∏è", category: "flexibility", difficulty: "‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", duration: "45 ‡∏ô‡∏≤‡∏ó‡∏µ", calories: 150, description: "‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô", steps: ["‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÅ‡∏Å‡∏ô‡∏Å‡∏•‡∏≤‡∏á", "‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏•‡∏°‡∏´‡∏≤‡∏¢‡πÉ‡∏à", "‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡∏∏‡πà‡∏°‡∏ô‡∏ß‡∏•"], bmiRecommend: ["‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô", "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô"]},
            
            // Balance
            {name: "‡πÑ‡∏ó‡πÄ‡∏Å‡πá‡∏ï", icon: "ü•ã", category: "balance", difficulty: "‡∏á‡πà‡∏≤‡∏¢", duration: "40 ‡∏ô‡∏≤‡∏ó‡∏µ", calories: 130, description: "‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡πÅ‡∏ö‡∏ö‡∏à‡∏µ‡∏ô ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏°‡∏≤‡∏ò‡∏¥‡πÅ‡∏•‡∏∞‡∏ó‡∏£‡∏á‡∏ï‡∏±‡∏ß", steps: ["‡∏ó‡πà‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô 8 ‡∏ó‡πà‡∏≤", "‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏ä‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á", "‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏•‡∏°‡∏´‡∏≤‡∏¢‡πÉ‡∏à"], bmiRecommend: ["‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô", "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô", "‡∏≠‡πâ‡∏ß‡∏ô"]},
            {name: "‡∏¢‡∏∑‡∏ô‡∏Ç‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß", icon: "ü¶©", category: "balance", difficulty: "‡∏á‡πà‡∏≤‡∏¢", duration: "10 ‡∏ô‡∏≤‡∏ó‡∏µ", calories: 40, description: "‡∏ù‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏£‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏°", steps: ["‡∏¢‡∏∑‡∏ô‡∏Ç‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ", "‡∏™‡∏•‡∏±‡∏ö‡∏Ç‡∏≤", "‡∏ó‡∏≥ 5 ‡∏£‡∏≠‡∏ö‡∏ï‡πà‡∏≠‡∏Ç‡∏≤"], bmiRecommend: ["‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô", "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ô‡πâ‡∏≠‡∏¢"]},
            {name: "‡∏ö‡∏≤‡∏•‡∏≤‡∏ô‡∏ã‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î", icon: "‚öñÔ∏è", category: "balance", difficulty: "‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", duration: "20 ‡∏ô‡∏≤‡∏ó‡∏µ", calories: 90, description: "‡πÉ‡∏ä‡πâ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ù‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏£‡∏á‡∏ï‡∏±‡∏ß", steps: ["‡∏¢‡∏∑‡∏ô‡∏ö‡∏ô‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏ó‡∏£‡∏á‡∏ï‡∏±‡∏ß", "‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏™‡∏°‡∏î‡∏∏‡∏•", "‡∏ó‡∏≥‡∏ó‡πà‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏ö‡∏ô‡∏ö‡∏≠‡∏£‡πå‡∏î"], bmiRecommend: ["‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô"]}
        ];

        let currentExerciseCategory = 'all';
        let currentFoodCalorieFilter = 'all';
        let isLoggedIn = false;
        let currentUser = null;
        let favoriteFoods = [];
        let currentDashboardUser = null;
        let myDashboardUser = null;

        // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á)
        const sampleUsers = {
            'Cristiano Ronaldo': {
                name: 'Cristiano Ronaldo',
                icon: '‚öΩ',
                age: 39,
                weight: 84,
                height: 187,
                bmi: 24.0,
                memberSince: '‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2020',
                totalWorkouts: 1250,
                favoriteFoods: ['‡πÄ‡∏à‡∏•‡∏•‡∏µ‡πà‡πÄ‡∏£‡∏∑‡∏≠‡∏á‡πÅ‡∏™‡∏á‡∏ã‡∏µ‡∏ï‡∏≤', '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ß‡∏∏‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≠‡∏ô‡∏ï‡∏±‡∏°', '‡πÑ‡∏Ç‡πà‡∏î‡∏≤‡∏ß‡∏ü‡∏¥‡∏ô‡∏¥‡∏Å‡∏ã‡πå'],
                achievements: ['üèÜ ‡∏ô‡∏±‡∏Å‡∏Å‡∏µ‡∏¨‡∏≤‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á', 'üí™ ‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢ 1000+ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á', 'ü•ó ‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏î‡∏∏‡∏•', '‚≠ê ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏û‡∏ä‡∏£'],
                dailyCalories: 2850,
                dailyProtein: 185,
                dailyCarbs: 320,
                dailyFat: 75,
                weeklyCalories: 2800,
                weeklyProtein: 180,
                weeklyMeals: 42,
                monthlyCalories: 84000,
                monthlyBMICount: 12,
                monthlyFavorites: 3,
                monthlyDays: 30,
                recentBMI: [
                    {date: '20/11/2567', bmi: 24.0, category: '‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô'},
                    {date: '15/11/2567', bmi: 24.2, category: '‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô'},
                    {date: '10/11/2567', bmi: 24.1, category: '‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô'}
                ]
            },
            'Lionel Messi': {
                name: 'Lionel Messi',
                icon: 'üêê',
                age: 37,
                weight: 72,
                height: 170,
                bmi: 24.9,
                memberSince: '‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏° 2019',
                totalWorkouts: 1180,
                favoriteFoods: ['‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏•‡∏≠‡∏¢‡∏ô‡πâ‡∏≥‡πÅ‡∏≠‡∏™‡∏ó‡∏£‡∏≤', '‡∏™‡∏≤‡∏´‡∏£‡πà‡∏≤‡∏¢‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡∏±‡∏•‡πÑ‡∏ó‡πÄ‡∏ó‡πÄ‡∏ô‡∏µ‡∏¢'],
                achievements: ['üêê GOAT', '‚öΩ ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ï‡∏≥‡∏ô‡∏≤‡∏ô', 'üèÜ ‡πÅ‡∏ä‡∏°‡∏õ‡πå‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÇ‡∏•‡∏Å', 'üíé ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å VIP'],
                dailyCalories: 2650,
                dailyProtein: 165,
                dailyCarbs: 295,
                dailyFat: 68,
                weeklyCalories: 2600,
                weeklyProtein: 160,
                weeklyMeals: 38,
                monthlyCalories: 78000,
                monthlyBMICount: 10,
                monthlyFavorites: 2,
                monthlyDays: 28,
                recentBMI: [
                    {date: '20/11/2567', bmi: 24.9, category: '‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô'},
                    {date: '14/11/2567', bmi: 24.8, category: '‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô'}
                ]
            },
            'Neymar Jr': {
                name: 'Neymar Jr',
                icon: '‚≠ê',
                age: 32,
                weight: 68,
                height: 175,
                bmi: 22.2,
                memberSince: '‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏° 2021',
                totalWorkouts: 890,
                favoriteFoods: ['‡πÄ‡∏à‡∏•‡∏•‡∏µ‡πà‡πÄ‡∏£‡∏∑‡∏≠‡∏á‡πÅ‡∏™‡∏á‡∏ã‡∏µ‡∏ï‡∏≤', '‡∏ô‡πâ‡∏≥‡∏´‡∏°‡∏±‡∏Å‡πÑ‡∏Æ‡πÇ‡∏î‡∏£‡πÄ‡∏à‡∏ô‡∏ã‡∏≠‡∏£‡πå‡∏ö', '‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î‡∏û‡∏•‡∏≤‡∏™‡∏°‡πà‡∏≤'],
                achievements: ['‚≠ê ‡∏î‡∏≤‡∏ß‡∏£‡∏∏‡πà‡∏á', 'üé® ‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß', 'üí™ ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏Å‡∏£‡πà‡∏á'],
                dailyCalories: 2450,
                dailyProtein: 150,
                dailyCarbs: 275,
                dailyFat: 62,
                weeklyCalories: 2400,
                weeklyProtein: 145,
                weeklyMeals: 35,
                monthlyCalories: 72000,
                monthlyBMICount: 8,
                monthlyFavorites: 3,
                monthlyDays: 25,
                recentBMI: [
                    {date: '18/11/2567', bmi: 22.2, category: '‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô'},
                    {date: '11/11/2567', bmi: 22.0, category: '‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô'}
                ]
            }
        };

        // Initialize
        function initApp() {
            currentUser = DB.getProfile();
            if (currentUser && currentUser.email) {
                isLoggedIn = true;
                myDashboardUser = currentUser.name || currentUser.email;
                currentDashboardUser = myDashboardUser;
                
                document.getElementById('authBtn').textContent = '‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö';
                document.getElementById('authBtn').className = 'logout-btn';
                
                if (currentUser.name) {
                    document.getElementById('profileName').textContent = currentUser.name;
                    document.getElementById('profileNameInput').value = currentUser.name;
                }
                if (currentUser.email) {
                    document.getElementById('profileEmail').textContent = currentUser.email;
                    document.getElementById('profileEmailInput').value = currentUser.email;
                }
                if (currentUser.age) document.getElementById('profileAge').value = currentUser.age;
                if (currentUser.weight) document.getElementById('profileWeight').value = currentUser.weight;
                if (currentUser.height) document.getElementById('profileHeight').value = currentUser.height;
            }

            favoriteFoods = DB.getFavoriteFoods();
            displayFoods();
            loadBMIHistory();
        }

        function showPage(pageName) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageName + 'Page').classList.add('active');
            
            if (pageName === 'food') {
                favoriteFoods = DB.getFavoriteFoods();
                displayFoods();
            } else if (pageName === 'bmi') {
                loadBMIHistory();
            } else if (pageName === 'dashboard') {
                updateDashboardUserName();
                loadDashboardData();
                updateBackButton();
            } else if (pageName === 'exercise') {
                loadExercisePage();
            } else if (pageName === 'profile') {
                loadProfileFavorites();
            }
        }

        // ===============================
        // FOOD FILTER FUNCTIONS
        // ===============================
        
        function filterFoodsByCalories(category) {
            currentFoodCalorieFilter = category;
            
            // Update button styles
            const buttons = ['filterAll', 'filterLow', 'filterMedium', 'filterHigh'];
            buttons.forEach(btnId => {
                const btn = document.getElementById(btnId);
                btn.classList.remove('active');
            });
            
            const activeBtn = document.getElementById('filter' + category.charAt(0).toUpperCase() + category.slice(1));
            activeBtn.classList.add('active');
            
            displayFoods();
        }

        function getCalorieCategory(calories) {
            if (calories <= 100) return 'low';
            if (calories <= 200) return 'medium';
            return 'high';
        }

        function getCalorieBadgeColor(calories) {
            if (calories <= 100) return '#4caf50';
            if (calories <= 200) return '#ff9800';
            return '#f44336';
        }

        function displayFoods() {
            const foodGrid = document.getElementById('foodGrid');
            let filteredFoods = foods;
            
            // Filter by calorie category
            if (currentFoodCalorieFilter !== 'all') {
                filteredFoods = foods.filter(food => getCalorieCategory(food.calories) === currentFoodCalorieFilter);
            }
            
            // Update food count
            document.getElementById('foodCount').textContent = `‡πÅ‡∏™‡∏î‡∏á ${filteredFoods.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`;
            
            foodGrid.innerHTML = '';
            
            filteredFoods.forEach(food => {
                const isFavorite = favoriteFoods.includes(food.name);
                const calorieColor = getCalorieBadgeColor(food.calories);
                const calorieCategory = getCalorieCategory(food.calories);
                const calorieCategoryText = calorieCategory === 'low' ? '‡∏ï‡πà‡∏≥' : calorieCategory === 'medium' ? '‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á' : '‡∏™‡∏π‡∏á';
                
                const card = document.createElement('div');
                card.className = 'food-card';
                
                card.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                        <div style="font-size: 3rem;">${food.icon}</div>
                        <button onclick="event.stopPropagation(); toggleFavorite('${food.name}')" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; transition: transform 0.2s;">
                            ${isFavorite ? '‚ù§Ô∏è' : 'ü§ç'}
                        </button>
                    </div>
                    <div style="text-align: center;">
                        <div style="display: inline-block; background: linear-gradient(135deg, #9c27b0, #e91e63); color: white; padding: 0.3rem 1rem; border-radius: 15px; font-size: 0.8rem; margin-bottom: 0.5rem;">
                            üåå ‡∏à‡∏≤‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏î‡∏≤‡∏ß
                        </div>
                        <div style="display: inline-block; background: ${calorieColor}; color: white; padding: 0.3rem 1rem; border-radius: 15px; font-size: 0.8rem; margin-bottom: 1rem; margin-left: 0.5rem;">
                            üî• ‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà${calorieCategoryText}
                        </div>
                    </div>
                    <div style="font-size: 1.3rem; font-weight: bold; color: #2e7d32; margin-bottom: 0.5rem; text-align: center;">${food.name}</div>
                    <div style="text-align: center; color: #757575; font-size: 0.9rem; margin-bottom: 1rem;">üåç ${food.origin}</div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; margin-top: 1rem;">
                        <div style="background: rgba(76, 175, 80, 0.1); padding: 0.7rem; border-radius: 10px; text-align: center;">
                            <div style="font-size: 1.2rem; font-weight: bold; color: #4caf50;">${food.calories}</div>
                            <div style="font-size: 0.75rem; color: #757575;">‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà</div>
                        </div>
                        <div style="background: rgba(76, 175, 80, 0.1); padding: 0.7rem; border-radius: 10px; text-align: center;">
                            <div style="font-size: 1.2rem; font-weight: bold; color: #4caf50;">${food.protein}g</div>
                            <div style="font-size: 0.75rem; color: #757575;">‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô</div>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 1rem; color: #9c27b0; font-weight: bold; font-size: 0.9rem; cursor: pointer;" onclick="showFoodDetail('${food.name}')">
                        ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‚Üí
                    </div>
                `;
                
                foodGrid.appendChild(card);
            });
        }

        function toggleFavorite(foodName) {
            const isFavorite = favoriteFoods.includes(foodName);
            
            if (isFavorite) {
                DB.removeFavoriteFood(foodName);
                favoriteFoods = favoriteFoods.filter(f => f !== foodName);
            } else {
                DB.saveFavoriteFood(foodName);
                favoriteFoods.push(foodName);
            }
            
            displayFoods();
            
            // Update profile page if it's currently open
            const profilePage = document.getElementById('profilePage');
            if (profilePage && profilePage.classList.contains('active')) {
                loadProfileFavorites();
            }
        }

        function showFoodDetail(foodName) {
            const food = foods.find(f => f.name === foodName);
            if (!food) return;

            const modal = document.getElementById('foodModal');
            const modalBody = document.getElementById('modalBody');
            
            modalBody.innerHTML = `
                <div style="text-align: center; margin-bottom: 2rem;">
                    <div style="font-size: 5rem; margin-bottom: 1rem;">${food.icon}</div>
                    <h3 style="font-size: 2.5rem; color: #4caf50; margin-bottom: 0.5rem;">${food.name}</h3>
                    <p style="font-size: 1.1rem; color: #757575; margin-bottom: 1rem;">üåç ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤: ${food.origin}</p>
                    <span style="display: inline-block; background: linear-gradient(135deg, #9c27b0, #e91e63); color: white; padding: 0.5rem 1.5rem; border-radius: 15px; font-size: 1rem;">üåå ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏î‡∏≤‡∏ß</span>
                </div>
                
                <h4 style="text-align: center; color: #4caf50; font-size: 1.8rem; margin-bottom: 1rem;">üìä ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£</h4>
                <p style="text-align: center; color: #757575; margin-bottom: 2rem;">‡∏ï‡πà‡∏≠‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ö‡∏£‡∏¥‡πÇ‡∏†‡∏Ñ</p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin: 2rem 0;">
                    <div style="background: rgba(76, 175, 80, 0.1); padding: 1.5rem; border-radius: 15px; text-align: center; border: 2px solid rgba(76, 175, 80, 0.3);">
                        <div style="font-size: 2rem; font-weight: bold; color: #4caf50;">${food.calories}</div>
                        <div style="color: #757575; font-weight: 600;">‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà</div>
                    </div>
                    <div style="background: rgba(76, 175, 80, 0.1); padding: 1.5rem; border-radius: 15px; text-align: center; border: 2px solid rgba(76, 175, 80, 0.3);">
                        <div style="font-size: 2rem; font-weight: bold; color: #4caf50;">${food.protein}g</div>
                        <div style="color: #757575; font-weight: 600;">‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô</div>
                    </div>
                    <div style="background: rgba(76, 175, 80, 0.1); padding: 1.5rem; border-radius: 15px; text-align: center; border: 2px solid rgba(76, 175, 80, 0.3);">
                        <div style="font-size: 2rem; font-weight: bold; color: #4caf50;">${food.carbs}g</div>
                        <div style="color: #757575; font-weight: 600;">‡∏Ñ‡∏≤‡∏£‡πå‡πÇ‡∏ö‡πÑ‡∏Æ‡πÄ‡∏î‡∏£‡∏ï</div>
                    </div>
                    <div style="background: rgba(76, 175, 80, 0.1); padding: 1.5rem; border-radius: 15px; text-align: center; border: 2px solid rgba(76, 175, 80, 0.3);">
                        <div style="font-size: 2rem; font-weight: bold; color: #4caf50;">${food.fat}g</div>
                        <div style="color: #757575; font-weight: 600;">‡πÑ‡∏Ç‡∏°‡∏±‡∏ô</div>
                    </div>
                </div>
                
                <button class="btn-primary" onclick="closeModal()" style="margin-top: 2rem;">‡∏õ‡∏¥‡∏î</button>
            `;
            
            modal.classList.add('active');
        }

        function closeModal() {
            document.getElementById('foodModal').classList.remove('active');
        }

        // ===============================
        // CONTINUE WITH REST OF CODE
        // ===============================
        
        function updateDashboardUserName() {
            const nameElement = document.getElementById('dashboardUserName');
            nameElement.textContent = currentDashboardUser || 'Guest';
        }

        function updateBackButton() {
            const backBtn = document.getElementById('myDashboardBtn');
            if (myDashboardUser && currentDashboardUser !== myDashboardUser) {
                backBtn.style.display = 'inline-block';
            } else {
                backBtn.style.display = 'none';
            }
        }

        function returnToMyDashboard() {
            currentDashboardUser = myDashboardUser;
            updateDashboardUserName();
            loadDashboardData();
            updateBackButton();
        }

        function showCurrentUserProfile() {
            showUserProfile(currentDashboardUser);
        }

        function showUserList() {
            const modal = document.getElementById('userListModal');
            const listBody = document.getElementById('userListBody');
            
            listBody.innerHTML = Object.keys(sampleUsers).map(userName => {
                const user = sampleUsers[userName];
                return `
                    <div class="user-list-card" onclick="switchDashboardUser('${userName}')">
                        <div style="font-size: 3rem;">${user.icon}</div>
                        <div style="flex: 1;">
                            <div style="font-size: 1.3rem; font-weight: bold; color: #2e7d32;">${user.name}</div>
                            <div style="color: #757575; font-size: 0.9rem;">BMI: ${user.bmi} | ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà ${user.memberSince}</div>
                        </div>
                        <div style="color: #4caf50; font-size: 1.2rem;">‚Üí</div>
                    </div>
                `;
            }).join('');
            
            modal.classList.add('active');
        }

        function closeUserList() {
            document.getElementById('userListModal').classList.remove('active');
        }

        function switchDashboardUser(userName) {
            currentDashboardUser = userName;
            closeUserList();
            updateDashboardUserName();
            loadDashboardData();
            updateBackButton();
        }

        function loadDashboardData() {
            let userData;
            
            if (currentDashboardUser && sampleUsers[currentDashboardUser]) {
                userData = sampleUsers[currentDashboardUser];
            } else if (currentUser) {
                const bmiHistory = DB.getBMIHistory();
                const favorites = DB.getFavoriteFoods();
                
                userData = {
                    dailyCalories: 0,
                    dailyProtein: 0,
                    dailyCarbs: 0,
                    dailyFat: 0,
                    weeklyCalories: 0,
                    weeklyMeals: 0,
                    weeklyBMI: bmiHistory.length > 0 ? bmiHistory[bmiHistory.length - 1].bmi : '-',
                    weight: currentUser.weight || '-',
                    monthlyCalories: 0,
                    monthlyBMICount: bmiHistory.length,
                    favoriteFoods: favorites,
                    monthlyDays: 0
                };
            } else {
                userData = {
                    dailyCalories: 0,
                    dailyProtein: 0,
                    dailyCarbs: 0,
                    dailyFat: 0,
                    weeklyCalories: 0,
                    weeklyMeals: 0,
                    weeklyBMI: '-',
                    weight: '-',
                    monthlyCalories: 0,
                    monthlyBMICount: 0,
                    favoriteFoods: [],
                    monthlyDays: 0
                };
            }

            document.getElementById('dailyCalories').textContent = userData.dailyCalories || 0;
            document.getElementById('dailyProtein').textContent = userData.dailyProtein || 0;
            document.getElementById('dailyCarbs').textContent = userData.dailyCarbs || 0;
            document.getElementById('dailyFat').textContent = userData.dailyFat || 0;

            document.getElementById('weeklyCalories').textContent = userData.weeklyCalories || 0;
            document.getElementById('weeklyMeals').textContent = userData.weeklyMeals || 0;
            document.getElementById('weeklyBMI').textContent = userData.weeklyBMI || userData.bmi || '-';
            document.getElementById('weeklyWeight').textContent = userData.weight || '-';

            document.getElementById('monthlyCalories').textContent = userData.monthlyCalories || 0;
            document.getElementById('monthlyBMICount').textContent = userData.monthlyBMICount || 0;
            document.getElementById('monthlyFavorites').textContent = userData.favoriteFoods ? userData.favoriteFoods.length : 0;
            document.getElementById('monthlyDays').textContent = userData.monthlyDays || 0;
        }

        function handleAuth() {
            if (isLoggedIn) {
                logout();
            } else {
                showPage('login');
            }
        }

        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        function login() {
            document.getElementById('loginEmailError').style.display = 'none';
            document.getElementById('loginPasswordError').style.display = 'none';
            document.getElementById('loginError').style.display = 'none';

            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value;
            
            let hasError = false;

            if (!email || !validateEmail(email)) {
                document.getElementById('loginEmailError').style.display = 'block';
                hasError = true;
            }

            if (!password) {
                document.getElementById('loginPasswordError').style.display = 'block';
                hasError = true;
            }

            if (hasError) return;

            const user = DB.getUser(email);
            
            if (!user || user.password !== password) {
                document.getElementById('loginError').style.display = 'block';
                return;
            }

            const profileData = {
                email: email,
                name: user.name,
                age: user.age,
                weight: user.weight,
                height: user.height,
                loginDate: new Date().toISOString()
            };
            
            DB.saveProfile(profileData);
            isLoggedIn = true;
            currentUser = profileData;
            myDashboardUser = user.name;
            currentDashboardUser = myDashboardUser;
            
            document.getElementById('authBtn').textContent = '‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö';
            document.getElementById('authBtn').className = 'logout-btn';
            document.getElementById('profileName').textContent = user.name;
            document.getElementById('profileNameInput').value = user.name;
            document.getElementById('profileEmail').textContent = email;
            document.getElementById('profileEmailInput').value = email;
            
            if (user.age) document.getElementById('profileAge').value = user.age;
            if (user.weight) document.getElementById('profileWeight').value = user.weight;
            if (user.height) document.getElementById('profileHeight').value = user.height;
            
            alert('‚úÖ ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
            showPage('home');
        }

        function register() {
            document.getElementById('registerNameError').style.display = 'none';
            document.getElementById('registerEmailError').style.display = 'none';
            document.getElementById('registerPasswordError').style.display = 'none';
            document.getElementById('registerConfirmPasswordError').style.display = 'none';
            document.getElementById('registerSuccess').style.display = 'none';

            const name = document.getElementById('registerName').value.trim();
            const email = document.getElementById('registerEmail').value.trim();
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
            
            let hasError = false;

            if (!name) {
                document.getElementById('registerNameError').style.display = 'block';
                hasError = true;
            }

            if (!email || !validateEmail(email)) {
                document.getElementById('registerEmailError').style.display = 'block';
                hasError = true;
            }

            if (!password || password.length < 6) {
                document.getElementById('registerPasswordError').style.display = 'block';
                hasError = true;
            }

            if (password !== confirmPassword) {
                document.getElementById('registerConfirmPasswordError').style.display = 'block';
                hasError = true;
            }

            if (hasError) return;

            if (DB.getUser(email)) {
                document.getElementById('registerEmailError').textContent = '‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß';
                document.getElementById('registerEmailError').style.display = 'block';
                return;
            }

            const userData = {
                name: name,
                email: email,
                password: password,
                age: null,
                weight: null,
                height: null,
                createdAt: new Date().toISOString()
            };

            DB.saveUser(email, userData);
            document.getElementById('registerSuccess').style.display = 'block';

            setTimeout(() => {
                const profileData = {
                    email: email,
                    name: name,
                    age: null,
                    weight: null,
                    height: null,
                    loginDate: new Date().toISOString()
                };
                
                DB.saveProfile(profileData);
                isLoggedIn = true;
                currentUser = profileData;
                myDashboardUser = name;
                currentDashboardUser = myDashboardUser;
                
                document.getElementById('authBtn').textContent = '‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö';
                document.getElementById('authBtn').className = 'logout-btn';
                document.getElementById('profileName').textContent = name;
                document.getElementById('profileNameInput').value = name;
                document.getElementById('profileEmail').textContent = email;
                document.getElementById('profileEmailInput').value = email;
                
                alert('‚úÖ ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà NutriFriend');
                showPage('home');
            }, 2000);
        }

        function logout() {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà? (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏≠‡∏¢‡∏π‡πà)')) {
                isLoggedIn = false;
                currentUser = null;
                myDashboardUser = null;
                currentDashboardUser = null;
                document.getElementById('authBtn').textContent = '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö';
                document.getElementById('authBtn').className = 'login-btn';
                alert('üëã ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
                showPage('home');
            }
        }

        function calculateBMI() {
            const weight = parseFloat(document.getElementById('weight').value);
            const height = parseFloat(document.getElementById('height').value);
            
            if (!weight || !height) {
                alert('‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á');
                return;
            }
            
            const heightInMeters = height / 100;
            const bmi = (weight / (heightInMeters * heightInMeters)).toFixed(2);
            
            let category = '', advice = '', color = '';
            
            if (bmi < 18.5) {
                category = '‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ô‡πâ‡∏≠‡∏¢';
                advice = '‡∏Ñ‡∏ß‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå';
                color = '#2196f3';
            } else if (bmi < 23) {
                category = '‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô';
                advice = '‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÉ‡∏´‡πâ‡∏î‡∏µ‡∏ï‡πà‡∏≠‡πÑ‡∏õ';
                color = '#4caf50';
            } else if (bmi < 25) {
                category = '‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô';
                advice = '‡∏Ñ‡∏ß‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°';
                color = '#ff9800';
            } else if (bmi < 30) {
                category = '‡∏≠‡πâ‡∏ß‡∏ô';
                advice = '‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÅ‡∏•‡∏∞‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏•‡∏î‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏±‡∏á';
                color = '#ff5722';
            } else {
                category = '‡∏≠‡πâ‡∏ß‡∏ô‡∏°‡∏≤‡∏Å';
                advice = '‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏î‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°';
                color = '#f44336';
            }
            
            document.getElementById('bmiResult').classList.remove('hidden');
            document.getElementById('bmiValue').textContent = bmi;
            document.getElementById('bmiValue').style.color = color;
            document.getElementById('bmiCategory').textContent = category;
            document.getElementById('bmiCategory').style.color = color;
            document.getElementById('bmiAdvice').textContent = advice;

            const bmiRecord = {
                bmi: parseFloat(bmi),
                weight: weight,
                height: height,
                category: category,
                timestamp: Date.now(),
                date: new Date().toLocaleDateString('th-TH')
            };

            DB.saveBMIRecord(bmiRecord);
            loadBMIHistory();
        }

        function loadBMIHistory() {
            const history = DB.getBMIHistory();
            const historyContainer = document.getElementById('bmiHistory');
            
            if (!historyContainer) return;

            if (history.length === 0) {
                historyContainer.innerHTML = '<p style="text-align: center; color: #757575; padding: 2rem;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì BMI</p>';
                return;
            }

            const sortedHistory = history.sort((a, b) => b.timestamp - a.timestamp).slice(0, 5);
            
            historyContainer.innerHTML = sortedHistory.map(record => `
                <div style="background: white; padding: 1rem; border-radius: 15px; margin-bottom: 1rem; border: 2px solid rgba(76, 175, 80, 0.2);">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="font-size: 1.5rem; font-weight: bold; color: #4caf50;">BMI: ${record.bmi}</div>
                            <div style="color: #757575; font-size: 0.9rem;">${record.date}</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-weight: bold; color: #2e7d32;">${record.category}</div>
                            <div style="color: #757575; font-size: 0.9rem;">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å: ${record.weight} kg</div>
                            <div style="color: #757575; font-size: 0.9rem;">‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á: ${record.height} cm</div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function saveProfile() {
            const name = document.getElementById('profileNameInput').value;
            const email = document.getElementById('profileEmailInput').value;
            const age = document.getElementById('profileAge').value;
            const weight = document.getElementById('profileWeight').value;
            const height = document.getElementById('profileHeight').value;
            
            const profileData = {
                name: name,
                email: email,
                age: parseInt(age),
                weight: parseFloat(weight),
                height: parseFloat(height),
                updatedAt: new Date().toISOString()
            };

            const saved = DB.saveProfile(profileData);
            
            if (saved) {
                document.getElementById('profileName').textContent = name;
                document.getElementById('profileEmail').textContent = email;
                currentUser = profileData;
                myDashboardUser = name;
                if (currentDashboardUser === myDashboardUser || !currentDashboardUser) {
                    currentDashboardUser = myDashboardUser;
                }
                alert('‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
            } else {
                alert('‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î');
            }
        }

        function loadProfileFavorites() {
            const favoritesContainer = document.getElementById('profileFavoriteFoods');
            const favorites = DB.getFavoriteFoods();
            
            if (favorites.length === 0) {
                favoritesContainer.innerHTML = `
                    <div style="text-align: center; padding: 3rem 1rem; background: linear-gradient(135deg, rgba(76, 175, 80, 0.05), rgba(129, 199, 132, 0.05)); border-radius: 20px; border: 2px dashed rgba(76, 175, 80, 0.3);">
                        <div style="font-size: 4rem; margin-bottom: 1rem;">üçΩÔ∏è</div>
                        <p style="color: #757575; font-size: 1.1rem; margin-bottom: 0.5rem;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î</p>
                        <p style="color: #9e9e9e; font-size: 0.9rem;">‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Å‡∏î‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î ‚ù§Ô∏è</p>
                    </div>
                `;
                return;
            }

            favoritesContainer.innerHTML = `
                <div style="background: linear-gradient(135deg, rgba(76, 175, 80, 0.05), rgba(129, 199, 132, 0.05)); padding: 1.5rem; border-radius: 20px; border: 2px solid rgba(76, 175, 80, 0.2);">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem;">
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <span style="font-size: 1.5rem;">‚ù§Ô∏è</span>
                            <span style="font-weight: bold; color: #2e7d32; font-size: 1.1rem;">${favorites.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>
                        </div>
                        <button onclick="if(confirm('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) { clearAllFavorites(); }" 
                                style="background: rgba(244, 67, 54, 0.1); border: none; color: #f44336; padding: 0.5rem 1rem; border-radius: 10px; cursor: pointer; font-size: 0.85rem; font-weight: bold; transition: all 0.3s;"
                                onmouseover="this.style.background='#f44336'; this.style.color='white'"
                                onmouseout="this.style.background='rgba(244, 67, 54, 0.1)'; this.style.color='#f44336'">
                            üóëÔ∏è ‡∏•‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                        </button>
                    </div>
                    <div style="display: grid; gap: 1rem;">
                        ${favorites.map(foodName => {
                            const food = foods.find(f => f.name === foodName);
                            if (!food) return '';
                            
                            return `
                                <div style="background: white; border: 2px solid rgba(76, 175, 80, 0.3); border-radius: 15px; padding: 1.2rem; display: flex; align-items: center; gap: 1rem; transition: all 0.3s; cursor: pointer;" 
                                     onclick="showFoodDetail('${food.name}')"
                                     onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 8px 20px rgba(76, 175, 80, 0.3)'"
                                     onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                                    <div style="font-size: 3rem;">${food.icon}</div>
                                    <div style="flex: 1;">
                                        <div style="font-weight: bold; color: #2e7d32; font-size: 1.2rem; margin-bottom: 0.3rem;">${food.name}</div>
                                        <div style="color: #757575; font-size: 0.9rem;">üåç ${food.origin}</div>
                                        <div style="display: flex; gap: 1rem; margin-top: 0.5rem; flex-wrap: wrap;">
                                            <span style="background: rgba(76, 175, 80, 0.1); padding: 0.3rem 0.8rem; border-radius: 8px; font-size: 0.85rem; color: #2e7d32;">
                                                üî• ${food.calories} kcal
                                            </span>
                                            <span style="background: rgba(33, 150, 243, 0.1); padding: 0.3rem 0.8rem; border-radius: 8px; font-size: 0.85rem; color: #1976d2;">
                                                üí™ ${food.protein}g ‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô
                                            </span>
                                            <span style="background: rgba(255, 152, 0, 0.1); padding: 0.3rem 0.8rem; border-radius: 8px; font-size: 0.85rem; color: #f57c00;">
                                                üçû ${food.carbs}g ‡∏Ñ‡∏≤‡∏£‡πå‡∏ö
                                            </span>
                                            <span style="background: rgba(156, 39, 176, 0.1); padding: 0.3rem 0.8rem; border-radius: 8px; font-size: 0.85rem; color: #7b1fa2;">
                                                üßà ${food.fat}g ‡πÑ‡∏Ç‡∏°‡∏±‡∏ô
                                            </span>
                                        </div>
                                    </div>
                                    <button onclick="event.stopPropagation(); removeFavoriteFromProfile('${foodName}')" 
                                            style="background: rgba(244, 67, 54, 0.1); border: 2px solid rgba(244, 67, 54, 0.3); color: #f44336; padding: 0.6rem 1.2rem; border-radius: 10px; cursor: pointer; font-size: 0.9rem; font-weight: bold; transition: all 0.3s; white-space: nowrap;"
                                            onmouseover="this.style.background='#f44336'; this.style.color='white'; this.style.transform='scale(1.05)'"
                                            onmouseout="this.style.background='rgba(244, 67, 54, 0.1)'; this.style.color='#f44336'; this.style.transform='scale(1)'">
                                        ‚ùå ‡∏•‡∏ö
                                    </button>
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
            `;
        }

        function clearAllFavorites() {
            const favorites = DB.getFavoriteFoods();
            favorites.forEach(foodName => {
                DB.removeFavoriteFood(foodName);
            });
            favoriteFoods = [];
            loadProfileFavorites();
            displayFoods();
        }

        function removeFavoriteFromProfile(foodName) {
            if (confirm(`‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö "${foodName}" ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?`)) {
                DB.removeFavoriteFood(foodName);
                favoriteFoods = favoriteFoods.filter(f => f !== foodName);
                loadProfileFavorites();
                
                const foodPage = document.getElementById('foodPage');
                if (foodPage) {
                    displayFoods();
                }
            }
        }

        function clearAllData() {
            if (confirm('‚ö†Ô∏è ‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î? ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÑ‡∏î‡πâ')) {
                const cleared = DB.clearAllData();
                if (cleared) {
                    alert('‚úÖ ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
                    location.reload();
                } else {
                    alert('‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î');
                }
            }
        }

        // ===============================
        // EXERCISE FUNCTIONS
        // ===============================
        
        function loadExercisePage() {
            const bmiHistory = DB.getBMIHistory();
            const bmiInfo = document.getElementById('exerciseBMIInfo');
            
            if (bmiHistory.length > 0) {
                const latestBMI = bmiHistory[bmiHistory.length - 1];
                const recommendedExercises = exercises.filter(ex => 
                    ex.bmiRecommend.includes(latestBMI.category)
                );
                
                bmiInfo.innerHTML = `
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 1rem;">
                        <div style="font-size: 3rem; font-weight: bold; color: #4caf50;">${latestBMI.bmi}</div>
                        <div style="font-size: 1.3rem; font-weight: bold; color: #2e7d32;">BMI ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: ${latestBMI.category}</div>
                        <div style="color: #757575;">‡πÄ‡∏£‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢ ${recommendedExercises.length} ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì</div>
                        <button class="user-select-btn" onclick="showExerciseCategory('recommended')" style="background: linear-gradient(135deg, #4caf50, #66bb6a);">
                            ‚ú® ‡∏î‡∏π‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
                        </button>
                    </div>
                `;
            } else {
                bmiInfo.innerHTML = `
                    <p style="color: #757575; font-size: 1.1rem;">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì BMI ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</p>
                    <button class="btn-primary" onclick="showPage('bmi')" style="max-width: 300px; margin: 1rem auto 0;">‡πÑ‡∏õ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì BMI</button>
                `;
            }
            
            displayExercises('all');
        }

        function showExerciseCategory(category) {
            currentExerciseCategory = category;
            displayExercises(category);
        }

        function displayExercises(category) {
            const exerciseGrid = document.getElementById('exerciseGrid');
            let filteredExercises = exercises;
            
            if (category === 'recommended') {
                const bmiHistory = DB.getBMIHistory();
                if (bmiHistory.length > 0) {
                    const latestBMI = bmiHistory[bmiHistory.length - 1];
                    filteredExercises = exercises.filter(ex => 
                        ex.bmiRecommend.includes(latestBMI.category)
                    );
                }
            } else if (category !== 'all') {
                filteredExercises = exercises.filter(ex => ex.category === category);
            }
            
            exerciseGrid.innerHTML = filteredExercises.map(exercise => {
                const difficultyColor = exercise.difficulty === '‡∏á‡πà‡∏≤‡∏¢' ? '#4caf50' : 
                                       exercise.difficulty === '‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á' ? '#ff9800' : '#f44336';
                const categoryColor = exercise.category === 'cardio' ? '#e91e63' :
                                     exercise.category === 'strength' ? '#3f51b5' :
                                     exercise.category === 'flexibility' ? '#00bcd4' : '#9c27b0';
                
                return `
                    <div class="food-card" onclick="showExerciseDetail('${exercise.name}')">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                            <div style="font-size: 3rem;">${exercise.icon}</div>
                            <div style="background: ${difficultyColor}; color: white; padding: 0.3rem 0.8rem; border-radius: 10px; font-size: 0.8rem; font-weight: bold;">
                                ${exercise.difficulty}
                            </div>
                        </div>
                        <div style="font-size: 1.3rem; font-weight: bold; color: #2e7d32; margin-bottom: 0.5rem; text-align: center;">${exercise.name}</div>
                        <div style="text-align: center; color: #757575; font-size: 0.9rem; margin-bottom: 1rem;">${exercise.description}</div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; margin-top: 1rem;">
                            <div style="background: rgba(76, 175, 80, 0.1); padding: 0.7rem; border-radius: 10px; text-align: center;">
                                <div style="font-size: 1.2rem; font-weight: bold; color: #4caf50;">${exercise.duration}</div>
                                <div style="font-size: 0.75rem; color: #757575;">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤</div>
                            </div>
                            <div style="background: rgba(76, 175, 80, 0.1); padding: 0.7rem; border-radius: 10px; text-align: center;">
                                <div style="font-size: 1.2rem; font-weight: bold; color: #4caf50;">${exercise.calories}</div>
                                <div style="font-size: 0.75rem; color: #757575;">‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà</div>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 1rem;">
                            <span style="background: ${categoryColor}; color: white; padding: 0.3rem 1rem; border-radius: 10px; font-size: 0.8rem; font-weight: bold;">
                                ${exercise.category === 'cardio' ? 'üèÉ ‡∏Ñ‡∏≤‡∏£‡πå‡∏î‡∏¥‡πÇ‡∏≠' :
                                  exercise.category === 'strength' ? 'üí™ ‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠' :
                                  exercise.category === 'flexibility' ? 'üßò ‡∏¢‡∏∑‡∏î‡πÄ‡∏´‡∏¢‡∏µ‡∏¢‡∏î' : '‚öñÔ∏è ‡∏ó‡∏£‡∏á‡∏ï‡∏±‡∏ß'}
                            </span>
                        </div>
                        <div style="text-align: center; margin-top: 1rem; color: #4caf50; font-weight: bold; font-size: 0.9rem; cursor: pointer;">
                            ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‚Üí
                        </div>
                    </div>
                `;
            }).join('');
        }

        function showExerciseDetail(exerciseName) {
            const exercise = exercises.find(ex => ex.name === exerciseName);
            if (!exercise) return;

            const modal = document.getElementById('exerciseModal');
            const modalBody = document.getElementById('exerciseModalBody');
            
            const difficultyColor = exercise.difficulty === '‡∏á‡πà‡∏≤‡∏¢' ? '#4caf50' : 
                                   exercise.difficulty === '‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á' ? '#ff9800' : '#f44336';
            
            modalBody.innerHTML = `
                <div style="text-align: center; margin-bottom: 2rem;">
                    <div style="font-size: 5rem; margin-bottom: 1rem;">${exercise.icon}</div>
                    <h3 style="font-size: 2.5rem; color: #4caf50; margin-bottom: 0.5rem;">${exercise.name}</h3>
                    <p style="font-size: 1.1rem; color: #757575; margin-bottom: 1rem;">${exercise.description}</p>
                    <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                        <span style="background: ${difficultyColor}; color: white; padding: 0.5rem 1.5rem; border-radius: 15px; font-size: 1rem;">
                            ‡∏£‡∏∞‡∏î‡∏±‡∏ö: ${exercise.difficulty}
                        </span>
                        <span style="background: linear-gradient(135deg, #2196f3, #64b5f6); color: white; padding: 0.5rem 1.5rem; border-radius: 15px; font-size: 1rem;">
                            ‚è±Ô∏è ${exercise.duration}
                        </span>
                        <span style="background: linear-gradient(135deg, #ff9800, #ffb74d); color: white; padding: 0.5rem 1.5rem; border-radius: 15px; font-size: 1rem;">
                            üî• ${exercise.calories} kcal
                        </span>
                    </div>
                </div>
                
                <h4 style="color: #4caf50; font-size: 1.8rem; margin-bottom: 1rem;">üìù ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢</h4>
                <div style="background: rgba(76, 175, 80, 0.05); padding: 1.5rem; border-radius: 15px; margin-bottom: 2rem; border: 2px solid rgba(76, 175, 80, 0.2);">
                    ${exercise.steps.map((step, index) => `
                        <div style="display: flex; gap: 1rem; margin-bottom: 1rem; align-items: start;">
                            <div style="background: #4caf50; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;">
                                ${index + 1}
                            </div>
                            <div style="flex: 1; padding-top: 0.3rem; color: #2e7d32; font-size: 1.1rem;">
                                ${step}
                            </div>
                        </div>
                    `).join('')}
                </div>

                <h4 style="color: #ff9800; font-size: 1.5rem; margin-bottom: 1rem;">üí° ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö</h4>
                <div style="display: flex; gap: 0.5rem; flex-wrap: wrap; margin-bottom: 2rem;">
                    ${exercise.bmiRecommend.map(bmi => `
                        <span style="background: rgba(255, 152, 0, 0.1); color: #f57c00; padding: 0.5rem 1rem; border-radius: 10px; border: 2px solid rgba(255, 152, 0, 0.3); font-size: 0.9rem;">
                            ‚úì ${bmi}
                        </span>
                    `).join('')}
                </div>
                
                <div style="background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), rgba(33, 150, 243, 0.1)); padding: 1.5rem; border-radius: 15px; border: 2px solid rgba(76, 175, 80, 0.3);">
                    <h4 style="color: #2196f3; margin-bottom: 0.5rem;">‚ö†Ô∏è ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h4>
                    <ul style="color: #616161; line-height: 1.8; margin-left: 1.5rem;">
                        <li>‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</li>
                        <li>‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢</li>
                        <li>‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏´‡∏≤‡∏Å‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÄ‡∏à‡πá‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏ö‡∏≤‡∏¢</li>
                        <li>‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</li>
                    </ul>
                </div>
                
                <button class="btn-primary" onclick="closeExerciseModal()" style="margin-top: 2rem;">‡∏õ‡∏¥‡∏î</button>
            `;
            
            modal.classList.add('active');
        }

        function closeExerciseModal() {
            document.getElementById('exerciseModal').classList.remove('active');
        }

        function showUserProfile(userName) {
            const modal = document.getElementById('userProfileModal');
            const modalBody = document.getElementById('userProfileBody');
            
            const userStats = sampleUsers[userName];
            
            if (!userStats) return;
            
            modalBody.innerHTML = `
                <div class="user-profile-header">
                    <div class="user-avatar">${userStats.icon}</div>
                    <h2 style="font-size: 2.5rem; margin-bottom: 0.5rem;">${userStats.name}</h2>
                    <p style="font-size: 1.1rem; opacity: 0.9;">‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà ${userStats.memberSince}</p>
                </div>

                <div style="background: white; padding: 2rem; border-radius: 20px; margin-bottom: 1.5rem; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
                    <h3 style="color: #4caf50; margin-bottom: 1.5rem; font-size: 1.5rem;">üìä ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</h3>
                    <div class="stat-grid">
                        <div class="stat-item">
                            <div style="font-size: 1.8rem; font-weight: bold; color: #4caf50;">${userStats.age}</div>
                            <div style="color: #757575;">‡∏õ‡∏µ</div>
                        </div>
                        <div class="stat-item">
                            <div style="font-size: 1.8rem; font-weight: bold; color: #4caf50;">${userStats.weight}</div>
                            <div style="color: #757575;">kg</div>
                        </div>
                        <div class="stat-item">
                            <div style="font-size: 1.8rem; font-weight: bold; color: #4caf50;">${userStats.height}</div>
                            <div style="color: #757575;">cm</div>
                        </div>
                        <div class="stat-item">
                            <div style="font-size: 1.8rem; font-weight: bold; color: #4caf50;">${userStats.bmi}</div>
                            <div style="color: #757575;">BMI</div>
                        </div>
                    </div>
                </div>

                <div style="background: white; padding: 2rem; border-radius: 20px; margin-bottom: 1.5rem; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
                    <h3 style="color: #ff9800; margin-bottom: 1.5rem; font-size: 1.5rem;">üèÖ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</h3>
                    <div style="display: grid; gap: 0.8rem;">
                        ${userStats.achievements.map(achievement => `
                            <div style="background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), rgba(255, 152, 0, 0.1)); padding: 1rem; border-radius: 12px; font-size: 1rem; border: 2px solid rgba(76, 175, 80, 0.2);">
                                ${achievement}
                            </div>
                        `).join('')}
                    </div>
                </div>

                <div style="background: white; padding: 2rem; border-radius: 20px; margin-bottom: 1.5rem; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
                    <h3 style="color: #9c27b0; margin-bottom: 1.5rem; font-size: 1.5rem;">üìà ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h3>
                    <div class="stat-grid">
                        <div class="stat-item">
                            <div style="font-size: 1.8rem; font-weight: bold; color: #4caf50;">${userStats.totalWorkouts}</div>
                            <div style="color: #757575;">‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢</div>
                        </div>
                        <div class="stat-item">
                            <div style="font-size: 1.8rem; font-weight: bold; color: #4caf50;">${userStats.weeklyCalories}</div>
                            <div style="color: #757575;">‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà/‡∏ß‡∏±‡∏ô</div>
                        </div>
                        <div class="stat-item">
                            <div style="font-size: 1.8rem; font-weight: bold; color: #4caf50;">${userStats.weeklyProtein}</div>
                            <div style="color: #757575;">‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô/‡∏ß‡∏±‡∏ô (g)</div>
                        </div>
                        <div class="stat-item">
                            <div style="font-size: 1.8rem; font-weight: bold; color: #4caf50;">${userStats.favoriteFoods.length}</div>
                            <div style="color: #757575;">‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î</div>
                        </div>
                    </div>
                </div>

                <div style="background: white; padding: 2rem; border-radius: 20px; margin-bottom: 1.5rem; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
                    <h3 style="color: #2196f3; margin-bottom: 1.5rem; font-size: 1.5rem;">üçΩÔ∏è ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î</h3>
                    <div style="display: grid; gap: 0.8rem;">
                        ${userStats.favoriteFoods.map(food => `
                            <div style="background: rgba(76, 175, 80, 0.1); padding: 1rem; border-radius: 12px; border: 2px solid rgba(76, 175, 80, 0.2);">
                                ${food}
                            </div>
                        `).join('')}
                    </div>
                </div>

                <div style="background: white; padding: 2rem; border-radius: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
                    <h3 style="color: #4caf50; margin-bottom: 1.5rem; font-size: 1.5rem;">üìä ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ BMI ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h3>
                    ${userStats.recentBMI.map(record => `
                        <div style="background: rgba(76, 175, 80, 0.05); padding: 1rem; border-radius: 12px; margin-bottom: 0.8rem; border: 2px solid rgba(76, 175, 80, 0.2); display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="font-weight: bold; color: #2e7d32;">${record.date}</div>
                                <div style="color: #757575; font-size: 0.9rem;">${record.category}</div>
                            </div>
                            <div style="font-size: 1.5rem; font-weight: bold; color: #4caf50;">BMI: ${record.bmi}</div>
                        </div>
                    `).join('')}
                </div>
            `;
            
            modal.classList.add('active');
        }

        function closeUserProfileModal() {
            document.getElementById('userProfileModal').classList.remove('active');
        }

        // Initialize app
        initApp();
    </script>
</body>
</html>